############################# Broker Basics #############################
# Unique ID for each broker
broker.id={{ broker_id }}

# Host advertised to clients
advertised.listeners=PLAINTEXT://{{ ansible_host }}:9092
listeners=PLAINTEXT://{{ ansible_host }}:9092
host.name={{ ansible_host }}

# Allow topic deletion via CLI/admin tools
delete.topic.enable=true

############################# Log Directories #############################
# Log file storage
log.dirs=/data/kafka

############################# Topic Defaults #############################
# Default partitions per new topic
num.partitions=8

# Default replication for new topics
default.replication.factor=3

# Minimum in-sync replicas (required to acknowledge writes)
min.insync.replicas=2

# Allow automatic topic creation (usually false in prod)
auto.create.topics.enable=true

# Disallow unsafe leader elections
unclean.leader.election.enable=false

############################# Log Retention #############################
# Retain data for 7 days
log.retention.hours=168

# Max size per log segment (1GB)
log.segment.bytes=1073741824

# Check frequency for log deletion
log.retention.check.interval.ms=300000

############################# Zookeeper #############################
# Zookeeper connection string (with chroot)
zookeeper.connect=zookeeper1:2181,zookeeper2:2181,zookeeper3:2181/kafka

# Timeout for ZK connection
zookeeper.connection.timeout.ms=6000

############################# I/O Performance #############################
# Control log flushes (higher = better throughput, less durability)
log.flush.interval.messages=10000
log.flush.interval.ms=1000

# Max message sizes
message.max.bytes=10485760
replica.fetch.max.bytes=10485760
